Публикации
==========

Класс yaEntry описывает ресурс публикации (поста, сообщения) Я.ру.

Публикация данных
-----------------

Так уж сложилось в Я.ру, что, ележи что-то происходит, то про это создается публикация (пост). Например, если вы решили сменить настроение, то в ленте появится сообщение об этом.  
(Если быть до конца честным, то в предыдущей фразе причина поменялась местами со следствием: сначала публикуется сообщение, а потом случается то, что случается).  
Так вот, сменим себе настроение::

    person = pyyaru.yaPerson('/me/').get()
    person.set_status("Yeap, that's me from pyyaru.")

Сообщение, которое приведёт к смене настроения, можно также опубликовать, создав новый объект типа *yaEntry* и передав в его конструктор свойства сообщения (атрибуты)::

    status_entry = pyyaru.yaEntry(
        attributes={
            'type': 'status',
            'access': 'public',
            'content': "Yeap, that's me from pyyaru.", 
        }
        ).save(person.links['posts'])

| Значение '*status*' cвойства '*type*' означает, что мы хотим опубликовать настроение; '*access*' определяет уровень доступа, в данном случае — публичный; '*content*' — содержимое сообщения.  
| Метод *save()* принимает URL ресурса, где будет опубликован пост. В примере выше сообщение будет опубликовано в ленте сообщений пользователя person.

Создадим новую запись в дневнике с запретом на её комментирование::

    nocomment_entry = pyyaru.yaEntry(
        attributes={
            'type': 'text',
            'access': 'public',
            'title': 'Запись с отключенными комментариями',
            'content': 'Комментарии к этой записи отключены намеренно.', 
            'comments_disabled': True, 
        }
        ).save(person.links['posts'])


.. _class-yaentry:

yaEntry
-------

.. autoclass:: pyyaru.pyyaru.yaEntry
    :members:
    :inherited-members:
